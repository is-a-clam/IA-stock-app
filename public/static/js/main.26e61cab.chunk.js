(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{222:function(e,t,n){},341:function(e,t,n){},342:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(62),r=n.n(i),o=(n(222),n(223),n(14)),c=n(18),l=n(21),d=n(20),h=n(365),u=n(199),j=n(104),p=n(154),b=n.n(p),m=n(362),g=n(372),x=n(200),O=n(198),f=n(370),v=n(360),k=n(364),y=function e(t,n,a,s,i){Object(o.a)(this,e),this.short=t,this.range=n,this.increment=a,this.number=s,this.unit=i};y.ONE_MIN=new y("1 min",!1,!0,1,"minute"),y.TWO_MIN=new y("2 mins",!1,!0,2,"minute"),y.FIVE_MIN=new y("5 mins",!1,!0,5,"minute"),y.THIRTY_MIN=new y("30 mins",!1,!0,30,"minute"),y.ONE_HOUR=new y("1H",!1,!0,1,"hour"),y.FOUR_HOUR=new y("4H",!1,!0,4,"hour"),y.ONE_DAY=new y("1D",!0,!0,1,"day"),y.FIVE_DAY=new y("5D",!0,!1,5,"day"),y.ONE_WEEK=new y("1W",!1,!0,1,"week"),y.ONE_MONTH=new y("1M",!0,!0,1,"month"),y.SIX_MONTH=new y("6M",!0,!1,6,"month"),y.ONE_YEAR=new y("1Y",!0,!0,1,"year"),y.FIVE_YEAR=new y("5Y",!0,!1,5,"year");var C=y;var w=n(155),S=n(367),E=n(358),I=n(191),R=n(95),A=n.n(R);A.a.defaults.xsrfHeaderName="X-CSRFToken",A.a.defaults.xsrfCookieName="csrftoken",A.a.defaults.baseURL="http://localhost:8000",A.a.defaults.withCredentials=!0;var N=A.a,L=n(2),D=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={loading:!0,labels:[],dayData:{},minuteData:{}},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.loadStockData()}},{key:"componentDidUpdate",value:function(e){this.props.stocks!==e.stocks&&this.loadStockData()}},{key:"loadStockData",value:function(){var e,t=this,n=[],a=Object(w.a)(this.props.stocks);try{for(a.s();!(e=a.n()).done;){var s=e.value;n.splice(n.length,0,N.get("api/get-stock-day-bar/"+s.symbol+"/"))}}catch(c){a.e(c)}finally{a.f()}var i,r=Object(w.a)(this.props.stocks);try{for(r.s();!(i=r.n()).done;){var o=i.value;n.splice(n.length,0,N.get("api/get-stock-minute-bar/"+o.symbol+"/"))}}catch(c){r.e(c)}finally{r.f()}Promise.all(n).then((function(e){for(var n={},a={},s=t.props.stocks.length,i=0;i<s;i++)n[t.props.stocks[i].symbol]=e[i].data.dayBar;for(var r=0;r<s;r++)a[t.props.stocks[r].symbol]=e[r+s].data.minuteBar;t.setState({dayData:n,minuteData:a}),t.setState({loading:!1})})),this.setState({loading:!0})}},{key:"render",value:function(){var e=this;return this.state.loading?Object(L.jsx)("div",{style:{height:"".concat(window.innerHeight-80,"px")},children:Object(L.jsx)(S.a,{style:{backgroundColor:"#00000000"},active:!0,children:Object(L.jsx)(E.a,{})})}):(console.log(this.state),Object(L.jsx)("div",{style:{height:"".concat(window.innerHeight-80,"px")},children:Object(L.jsx)(I.Line,{data:{labels:this.state.dayData[this.props.stocks[0].symbol].map((function(e){return e.date})),datasets:this.props.stocks.map((function(t,n){return{label:t.symbol,borderColor:t.color,backgroundColor:"#00000000",borderWidth:2,data:e.state.dayData[t.symbol].map((function(e){return e.price}))}}))},options:{maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{ticks:{min:0,max:1e3,stepSize:50,callback:function(e,t){return e%50===0?e:""}},gridLines:{color:"#707070"}}],xAxes:[{type:"time",time:{unit:"day"},gridLines:{color:"#707070"}}]},chartArea:{backgroundColor:"#2B2D30"}}})}))}}]),n}(s.a.Component),T=n(158),P=n(361),M=n(369),_=n(68),H=n(193),Y=Object(H.a)(x.a.Row)({paddingTop:"0em !important",paddingBottom:"0.5em !important"}),q=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={loading:!0,extraInfo:!1,data:null},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;N.get("api/get-stock-key-info/"+this.props.symbol+"/").then((function(t){e.setState({loading:!1,data:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return this.state.loading?Object(L.jsx)(k.a,{style:{border:"1px solid #707070",margin:"0px",padding:"1em",paddingLeft:"2em"},children:Object(L.jsx)(k.a.Content,{children:Object(L.jsx)(k.a.Description,{style:{margin:"0px"},children:Object(L.jsx)(T.a,{style:{backgroundColor:"#00000000"},children:Object(L.jsx)(S.a,{style:{backgroundColor:"#00000000"},active:!0,children:Object(L.jsx)(E.a,{})})})})})}):(console.log("Not Loading"),Object(L.jsx)(P.a,{wide:!0,className:"stock-info",content:Object(L.jsxs)(x.a,{style:{marginLeft:"1em",marginRight:"1em",marginBottom:"0.5em",width:"auto"},verticalAlign:"middle",children:[Object(L.jsxs)(x.a.Row,{children:[Object(L.jsx)(x.a.Column,{width:10,style:{padding:"0px"},children:Object(L.jsx)(M.a,{as:"h1",children:this.state.data.companyName})}),Object(L.jsx)(x.a.Column,{floated:"right",width:1,style:{padding:"0px"},textAlign:"right",children:Object(L.jsx)(_.a,{link:!0,name:"close",size:"small",onClick:function(){return e.setState({extraInfo:!1})}})})]}),Object(L.jsxs)(x.a.Row,{className:"stock-info-row",children:[Object(L.jsx)(x.a.Column,{width:6,style:{padding:"0px"},children:"Country"}),Object(L.jsx)(x.a.Column,{width:9,style:{padding:"0px"},children:this.state.data.country})]}),Object(L.jsxs)(x.a.Row,{className:"stock-info-row",style:{marginBottom:"1em"},children:[Object(L.jsx)(x.a.Column,{width:6,style:{padding:"0px"},children:"Exchange"}),Object(L.jsx)(x.a.Column,{width:9,style:{padding:"0px"},children:this.state.data.exchange})]}),Object(L.jsxs)(x.a.Row,{className:"stock-info-row",children:[Object(L.jsx)(x.a.Column,{width:3,style:{padding:"0px"},children:"Close"}),Object(L.jsx)(x.a.Column,{width:4,style:{padding:"0px",paddingLeft:"1em"},children:this.state.data.quote.close}),Object(L.jsx)(x.a.Column,{width:6,style:{padding:"0px"},children:"Open"}),Object(L.jsx)(x.a.Column,{width:2,style:{padding:"0px"},children:this.state.data.quote.open})]}),Object(L.jsxs)(x.a.Row,{className:"stock-info-row",children:[Object(L.jsx)(x.a.Column,{width:3,style:{padding:"0px"},children:"High"}),Object(L.jsx)(x.a.Column,{width:4,style:{padding:"0px",paddingLeft:"1em"},children:this.state.data.quote.high}),Object(L.jsx)(x.a.Column,{width:6,style:{padding:"0px"},children:"52 Week High"}),Object(L.jsx)(x.a.Column,{width:2,style:{padding:"0px"},children:this.state.data.keyStats.week52high})]}),Object(L.jsxs)(x.a.Row,{className:"stock-info-row",children:[Object(L.jsx)(x.a.Column,{width:3,style:{padding:"0px"},children:"Low"}),Object(L.jsx)(x.a.Column,{width:4,style:{padding:"0px",paddingLeft:"1em"},children:this.state.data.quote.low}),Object(L.jsx)(x.a.Column,{width:6,style:{padding:"0px"},children:"52 Week Low"}),Object(L.jsx)(x.a.Column,{width:2,style:{padding:"0px"},children:this.state.data.keyStats.week52low})]}),Object(L.jsxs)(x.a.Row,{className:"stock-info-row",children:[Object(L.jsx)(x.a.Column,{width:3,style:{padding:"0px"},children:"Volume"}),Object(L.jsxs)(x.a.Column,{width:4,style:{padding:"0px",paddingLeft:"1em"},children:[Math.round(this.state.data.quote.latestVolume/1e4)/100,"M"]}),Object(L.jsx)(x.a.Column,{width:6,style:{padding:"0px"},children:"Market Cap"}),Object(L.jsxs)(x.a.Column,{width:2,style:{padding:"0px"},children:[Math.round(this.state.data.quote.marketCap/1e9)/1e3,"T"]})]}),Object(L.jsxs)(x.a.Row,{className:"stock-info-row",children:[Object(L.jsx)(x.a.Column,{width:3,style:{padding:"0px"},children:"PE Ratio"}),Object(L.jsx)(x.a.Column,{width:4,style:{padding:"0px",paddingLeft:"1em"},children:Math.round(100*this.state.data.keyStats.peRatio)/100}),Object(L.jsx)(x.a.Column,{width:6,style:{padding:"0px"},children:"Dividend Yield"}),Object(L.jsxs)(x.a.Column,{width:2,style:{padding:"0px"},children:[Math.round(1e4*this.state.data.keyStats.dividendYield)/100,"%"]})]})]}),style:{background:"#202225",opacity:.9},position:"left center",inverted:!0,open:this.state.extraInfo,trigger:Object(L.jsx)(k.a,{style:{border:"1px solid #707070",margin:"0px",marginBottom:"-1px"},children:Object(L.jsx)(k.a.Content,{children:Object(L.jsx)(k.a.Description,{style:{color:"white"},children:Object(L.jsxs)(x.a,{style:{margin:"1em",marginBottom:"0.5em"},children:[Object(L.jsxs)(Y,{columns:4,children:[Object(L.jsx)(x.a.Column,{width:3,children:Object(L.jsx)(_.a,{style:{color:this.props.color},name:"minus",size:"large"})}),Object(L.jsx)(x.a.Column,{width:4,children:this.props.symbol}),Object(L.jsx)(x.a.Column,{width:7,children:this.state.data.companyName}),Object(L.jsx)(x.a.Column,{textAlign:"right",width:1,children:Object(L.jsx)(_.a,{link:!0,name:"close",size:"small",onClick:this.props.onDelete})})]}),Object(L.jsxs)(Y,{children:[this.state.data.quote.change>0?Object(L.jsx)(_.a,{color:"green",name:"arrow up"}):Object(L.jsx)(_.a,{color:"red",name:"arrow down"}),this.state.data.quote.latestPrice," (",Math.round(1e4*this.state.data.quote.changePercent)/100,"%)"]}),Object(L.jsxs)(Y,{children:["Previous Close: $",this.state.data.quote.close]}),Object(L.jsxs)(Y,{children:["Open: $",this.state.data.quote.open]}),Object(L.jsx)(Y,{children:Object(L.jsx)(x.a.Column,{textAlign:"right",children:Object(L.jsx)("button",{className:"link-button",style:{fontFamily:"Roboto Mono"},onClick:function(){return e.setState({extraInfo:!e.state.extraInfo})},children:"View Details"})})})]})})})})}))}}]),n}(s.a.Component);function B(e,t){switch(t.type){case"CLEAN_QUERY":return{results:[],value:""};case"START_SEARCH":return Object(j.a)(Object(j.a)({},e),{},{value:t.query});case"FINISH_SEARCH":return Object(j.a)(Object(j.a)({},e),{},{results:t.results});default:throw new Error}}function F(e){var t=s.a.useReducer(B,{results:[],value:""}),n=Object(u.a)(t,2),a=n[0],i=n[1],r=s.a.useRef(),o=s.a.useCallback((function(t,n){clearTimeout(r.current),i({type:"START_SEARCH",query:n.value}),r.current=setTimeout((function(){if(0!==n.value.length){var t=new RegExp(b.a.escapeRegExp(n.value),"i");i({type:"FINISH_SEARCH",results:b.a.filter(e.availableStocks,(function(e){return t.test(e.symbol)}))})}else i({type:"CLEAN_QUERY"})}),300)}),[]);return s.a.useEffect((function(){return function(){clearTimeout(r.current)}}),[]),Object(L.jsx)(m.a,{input:{transparent:!0,placeholder:" Search",input:{style:{color:"white"}}},icon:null,onResultSelect:function(t,n){e.addStock(n.result.symbol),i({type:"CLEAN_QUERY"})},resultRenderer:function(e){var t=e.symbol;return Object(L.jsx)("div",{children:t})},onSearchChange:o,results:a.results,value:a.value})}var U=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"handleRangeClick",value:function(e,t){var n=t.name;this.props.rangeOnChange(n)}},{key:"handleIncrementClick",value:function(e,t){var n=t.name;this.props.incrementOnChange(n)}},{key:"handleAddStock",value:function(e){var t=this.props.stocks.slice(),n=["#B84D46","#406FAE","#508A4E","#EA8539","#5D43A0"][t.length%5];t.splice(t.length,0,{symbol:e,color:n}),this.props.stocksOnChange(t)}},{key:"handleDeleteStock",value:function(e){var t=this.props.stocks.slice();t.splice(e,1),this.props.stocksOnChange(t)}},{key:"render",value:function(){var e=this;return Object(L.jsxs)(g.a.Pane,{style:{background:"#3f3f3f",border:"0px solid",padding:"0px",height:"100%"},children:[Object(L.jsxs)(x.a,{stackable:!0,style:{margin:"0px"},columns:2,children:[Object(L.jsx)(x.a.Column,{width:6,style:{padding:"0px",paddingLeft:"1em"},children:Object(L.jsxs)(O.a,{inverted:!0,secondary:!0,style:{margin:"0px"},children:[Object(L.jsx)(O.a.Item,{header:!0,children:"Range:"}),Object.values(y).filter((function(e){return e.range})).map((function(t){return Object(L.jsx)(O.a.Item,{name:t.short,active:e.props.range===t.short,onClick:e.handleRangeClick.bind(e)})}))]})}),Object(L.jsx)(x.a.Column,{width:10,style:{padding:"0px"},children:Object(L.jsxs)(O.a,{inverted:!0,secondary:!0,style:{margin:"0px"},children:[Object(L.jsx)(O.a.Item,{header:!0,children:"Increment:"}),Object.values(y).filter((function(e){return e.increment})).map((function(t){return Object(L.jsx)(O.a.Item,{name:t.short,active:e.props.increment===t.short,onClick:e.handleIncrementClick.bind(e)})}))]})})]}),Object(L.jsxs)(f.a.Pushable,{as:v.a,children:[Object(L.jsxs)(f.a,{as:k.a.Group,className:"stock-listing",animation:"overlay",direction:"right",visible:!0,width:"wide",style:{background:"#202225"},children:[this.props.stocks.map((function(t,n){return Object(L.jsx)(q,{symbol:t.symbol,color:t.color,onDelete:function(){return e.handleDeleteStock(n)}})})),Object(L.jsx)(k.a,{style:{border:"1px solid #707070",margin:"0px",marginBottom:"10em",padding:"1em",paddingLeft:"2em"},children:Object(L.jsx)(k.a.Content,{children:Object(L.jsx)(F,{availableStocks:this.props.availableStocks,addStock:function(t){return e.handleAddStock(t)}})})})]}),Object(L.jsx)(f.a.Pusher,{children:Object(L.jsx)(v.a,{children:Object(L.jsx)(D,{range:this.props.range,increment:this.props.increment,stocks:this.props.stocks})})})]})]})}}]),n}(s.a.Component),z=n(343),W=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"handleSettingsOpenClose",value:function(e){this.props.onOpenCloseSettings(e)}},{key:"render",value:function(){var e=this;return Object(L.jsx)(g.a.Pane,{style:{background:"#3f3f3f",border:"0px solid",color:"white",padding:"0px",height:"".concat(window.innerHeight-40,"px")},children:Object(L.jsxs)(f.a.Pushable,{as:v.a,children:[Object(L.jsx)(f.a,{as:v.a,animation:"overlay",direction:"right",visible:this.props.settingsOpen,width:"wide",style:{background:"#202225"},children:Object(L.jsxs)(x.a,{textAlign:"left",style:{width:"inherit",margin:"0em",marginTop:"1em"},children:[Object(L.jsxs)(x.a.Row,{style:{marginBottom:"2em"},children:[Object(L.jsx)(x.a.Column,{width:14,children:Object(L.jsx)(M.a,{as:"h1",inverted:!0,children:"Settings"})}),Object(L.jsx)(x.a.Column,{width:1,children:Object(L.jsx)(_.a,{link:!0,name:"close",onClick:function(){return e.handleSettingsOpenClose(!1)}})})]}),Object(L.jsx)(x.a.Row,{children:Object(L.jsx)(x.a.Column,{children:Object(L.jsx)(z.a,{negative:!0,children:"Logout"})})}),Object(L.jsx)(x.a.Row,{children:Object(L.jsx)(x.a.Column,{children:Object(L.jsx)(z.a,{negative:!0,children:"Change Password"})})}),Object(L.jsx)(x.a.Row,{children:Object(L.jsx)(x.a.Column,{children:Object(L.jsx)(z.a,{negative:!0,children:"Delete Account"})})})]})}),Object(L.jsx)(f.a.Pusher,{children:Object(L.jsxs)(v.a,{children:[Object(L.jsx)(_.a,{link:!0,name:"settings",onClick:function(){return e.handleSettingsOpenClose(!e.props.settingsOpen)},style:{marginTop:"1em",paddingLeft:"5px"}}),Object(L.jsx)(M.a,{as:"h1",textAlign:"center",inverted:!0,style:{marginTop:"1em"},children:"Your Stocks"})]})})]})})}}]),n}(s.a.Component),V=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={activeIndex:0,availableStocks:[],tabs:[]},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.refreshPage()}},{key:"refreshPage",value:function(){var e=this;N.get("api/user-profile/").then((function(t){e.setState({tabs:t.data.tabs})})).catch((function(e){return console.log(e)})),N.get("api/list-stocks").then((function(t){e.setState({availableStocks:t.data})})).catch((function(e){return console.log(e)}))}},{key:"onClickCloseTab",value:function(e){var t=this.state.tabs.slice().filter((function(t){return t.id!==e}));this.setState({tabs:t}),N.put("api/user-profile/",{tabs:t})}},{key:"onAddTab",value:function(){var e=this.state.tabs.slice();e.splice(e.length-1,0,{id:Object(h.a)(),label:"newGraph",range:C.ONE_DAY.short,increment:C.ONE_MIN.short,stocks:["AAPL"]}),this.setState({tabs:e}),N.put("api/user-profile/",{tabs:e})}},{key:"onOpenCloseSettings",value:function(e){var t=this.state.tabs.slice().map((function(t){return"home"===t.id&&(t.settings=e),t}));this.setState({tabs:t}),N.put("api/user-profile/",{tabs:t})}},{key:"onChangeTabRange",value:function(e,t){var n=this.state.tabs.slice().map((function(n){return n.id===e?(n.range=t,n):n}));this.setState({tabs:n}),N.put("api/user-profile/",{tabs:n})}},{key:"onChangeTabIncrement",value:function(e,t){var n=this.state.tabs.slice().map((function(n){return n.id===e?(n.increment=t,n):n}));this.setState({tabs:n}),N.put("api/user-profile/",{tabs:n})}},{key:"onChangeTabStocks",value:function(e,t){var n=this.state.tabs.slice().map((function(n){return n.id===e?(n.stocks=t,n):n}));this.setState({tabs:n}),N.put("api/user-profile/",{tabs:n})}},{key:"render",value:function(){var e=this;return Object(L.jsx)("div",{className:"tabs",children:Object(L.jsx)(g.a,{menu:{inverted:!0,attached:!0},panes:this.state.tabs.map((function(t){return"home"===t.id?{menuItem:{key:"home",icon:"home"},render:function(){return Object(L.jsx)(W,{settingsOpen:t.settings,onOpenCloseSettings:function(t){return e.onOpenCloseSettings(t)}})}}:"add"===t.id?{menuItem:{key:"add",icon:"add"},render:function(){return Object(L.jsx)(g.a.Pane,{})}}:{menuItem:Object(L.jsx)(O.a.Item,{children:Object(L.jsx)(x.a,{textAlign:"center",children:Object(L.jsxs)(x.a.Row,{columns:2,children:[Object(L.jsx)(x.a.Column,{width:10,children:t.label}),Object(L.jsx)(x.a.Column,{width:5,children:Object(L.jsx)(_.a,{link:!0,name:"close",size:"small",onClick:function(){return e.onClickCloseTab(t.id)}})})]})})},t.id),render:function(){return Object(L.jsx)(U,{range:t.range,rangeOnChange:function(n){return e.onChangeTabRange(t.id,n)},increment:t.increment,incrementOnChange:function(n){return e.onChangeTabIncrement(t.id,n)},stocks:t.stocks,stocksOnChange:function(n){return e.onChangeTabStocks(t.id,n)},availableStocks:e.state.availableStocks})}}})),activeIndex:this.state.activeIndex,onTabChange:function(t,n){if(n.activeIndex===e.state.tabs.length-1){var a=e.state.tabs.length-1;e.onAddTab(),e.setState({activeIndex:a})}else"close small link icon"===t.target.className?(e.state.activeIndex===e.state.tabs.length-2||n.activeIndex<e.state.activeIndex)&&e.setState({activeIndex:e.state.activeIndex-1}):e.setState({activeIndex:n.activeIndex})}})})}}]),n}(s.a.Component),Q=n(71),G=n(363),J=n(366),X=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={username:"",usernameErr:null,password:"",passwordErr:null},a}return Object(c.a)(n,[{key:"handleChange",value:function(e,t){var n=t.name,a=t.value;this.setState(Object(Q.a)({},n,a))}},{key:"handleSubmit",value:function(){var e=this;""===this.state.username?this.setState({usernameErr:"This field may not be blank."}):this.setState({usernameErr:null}),""===this.state.password?this.setState({passwordErr:"This field may not be blank."}):this.setState({passwordErr:null}),""!==this.state.password&&""!==this.state.username&&N.post("api/login/",{username:this.state.username,password:this.state.password}).then((function(t){e.props.checkLogin()})).catch((function(t){e.setState({usernameErr:t.response.data.detail,passwordErr:t.response.data.detail})}))}},{key:"render",value:function(){return Object(L.jsx)(x.a,{textAlign:"center",style:{height:"110vh",background:"#202225"},verticalAlign:"middle",children:Object(L.jsxs)(x.a.Column,{style:{maxWidth:450},children:[Object(L.jsx)(M.a,{as:"h1",inverted:!0,textAlign:"center",children:"Log In"}),Object(L.jsx)(G.a,{size:"large",children:Object(L.jsxs)(T.a,{children:[Object(L.jsx)(G.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username",name:"username",onChange:this.handleChange.bind(this),value:this.state.username,error:this.state.usernameErr&&{content:this.state.usernameErr,pointing:"below"}}),Object(L.jsx)(G.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",name:"password",type:"password",onChange:this.handleChange.bind(this),value:this.state.password,error:this.state.passwordErr&&{content:this.state.passwordErr,pointing:"below"}}),Object(L.jsx)(z.a,{color:"teal",fluid:!0,size:"large",onClick:this.handleSubmit.bind(this),children:"Log In"})]})}),Object(L.jsxs)(J.a,{children:["Don't have an account? ",Object(L.jsx)("button",{className:"link-button",onClick:this.props.onChangePage.bind(this),children:"Sign Up"})]})]})})}}]),n}(s.a.Component),$=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={username:"",usernameErr:null,email:"",emailErr:null,password:"",passwordErr:null},a}return Object(c.a)(n,[{key:"handleChange",value:function(e,t){var n=t.name,a=t.value;this.setState(Object(Q.a)({},n,a))}},{key:"handleSubmit",value:function(){var e=this;N.post("api/register/",{username:this.state.username,email:this.state.email,password:this.state.password}).then((function(t){N.post("api/login/",{username:e.state.username,password:e.state.password}).then((function(t){e.props.checkLogin()})).catch((function(e){console.log(e.response)}))})).catch((function(t){var n,a,s,i=t.response.data;e.setState({usernameErr:null===(n=i.username)||void 0===n?void 0:n[0],emailErr:null===(a=i.email)||void 0===a?void 0:a[0],passwordErr:null===(s=i.password)||void 0===s?void 0:s[0]})}))}},{key:"render",value:function(){return Object(L.jsx)(x.a,{textAlign:"center",style:{height:"110vh",background:"#202225"},verticalAlign:"middle",children:Object(L.jsxs)(x.a.Column,{style:{maxWidth:450},children:[Object(L.jsx)(M.a,{as:"h1",inverted:!0,textAlign:"center",children:"Sign Up"}),Object(L.jsx)(G.a,{size:"large",children:Object(L.jsxs)(T.a,{children:[Object(L.jsx)(G.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username",name:"username",onChange:this.handleChange.bind(this),value:this.state.username,error:this.state.usernameErr&&{content:this.state.usernameErr,pointing:"below"}}),Object(L.jsx)(G.a.Input,{fluid:!0,icon:"mail",iconPosition:"left",placeholder:"Email",name:"email",onChange:this.handleChange.bind(this),value:this.state.email,error:this.state.emailErr&&{content:this.state.emailErr,pointing:"below"}}),Object(L.jsx)(G.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",name:"password",onChange:this.handleChange.bind(this),value:this.state.password,error:this.state.passwordErr&&{content:this.state.passwordErr,pointing:"below"}}),Object(L.jsx)(z.a,{color:"teal",fluid:!0,size:"large",onClick:this.handleSubmit.bind(this),children:"Create Account"})]})}),Object(L.jsxs)(J.a,{children:["Already have an account? ",Object(L.jsx)("button",{className:"link-button",onClick:this.props.onChangePage.bind(this),children:"Log In"})]})]})})}}]),n}(s.a.Component),K=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={login:!0},a}return Object(c.a)(n,[{key:"onChangePage",value:function(e){this.setState({login:e})}},{key:"render",value:function(){var e=this;return this.state.login?Object(L.jsx)(X,{onChangePage:function(){return e.onChangePage(!1)},checkLogin:this.props.checkLogin}):Object(L.jsx)($,{onChangePage:function(){return e.onChangePage(!0)},checkLogin:this.props.checkLogin})}}]),n}(s.a.Component),Z=(n(341),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={loggedIn:!1},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.checkLogin()}},{key:"checkLogin",value:function(){var e=this;N.get("api/login-set-cookie/").then((function(e){console.log(e)})).catch((function(e){console.log(e)})),N.get("api/user-profile/").then((function(t){e.setState({loggedIn:!0})})).catch((function(t){e.setState({loggedIn:!1})}))}},{key:"render",value:function(){return this.state.loggedIn?Object(L.jsx)(V,{}):Object(L.jsx)(K,{checkLogin:this.checkLogin.bind(this)})}}]),n}(s.a.Component)),ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,373)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),i(e),r(e)}))};r.a.render(Object(L.jsx)(s.a.StrictMode,{children:Object(L.jsx)(Z,{})}),document.getElementById("root")),ee()}},[[342,1,2]]]);
//# sourceMappingURL=main.26e61cab.chunk.js.map